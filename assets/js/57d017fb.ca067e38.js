"use strict";(self.webpackChunknotesaurus=self.webpackChunknotesaurus||[]).push([[1516],{8049:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>a});var s=t(5893),r=t(1151);const i={sidebar_position:3},o="Rest Controller",l={id:"spring-boot/rest-controller",title:"Rest Controller",description:"Step by Step Guide",source:"@site/docs/spring-boot/rest-controller.md",sourceDirName:"spring-boot",slug:"/spring-boot/rest-controller",permalink:"/Notesaurus/docs/spring-boot/rest-controller",draft:!1,unlisted:!1,editUrl:"https://github.com/athomasliz/Notesaurus/tree/main/docs/spring-boot/rest-controller.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Spring Initializr",permalink:"/Notesaurus/docs/spring-boot/spring-initializr"},next:{title:"Swagger",permalink:"/Notesaurus/docs/spring-boot/swagger"}},d={},a=[{value:"Step by Step Guide",id:"step-by-step-guide",level:2},{value:"1. Add starter",id:"1-add-starter",level:3},{value:"2. Add configuration",id:"2-add-configuration",level:3},{value:"3. Define Request Model",id:"3-define-request-model",level:3},{value:"4. Define Response Model",id:"4-define-response-model",level:3},{value:"5. Define Rest Controller",id:"5-define-rest-controller",level:3},{value:"6. Start server",id:"6-start-server",level:3},{value:"7. Test with Postman",id:"7-test-with-postman",level:3},{value:"Define input parameters",id:"define-input-parameters",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"rest-controller",children:"Rest Controller"}),"\n",(0,s.jsx)(n.h2,{id:"step-by-step-guide",children:"Step by Step Guide"}),"\n",(0,s.jsx)(n.h3,{id:"1-add-starter",children:"1. Add starter"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="pom.xml"',children:"    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n"})}),"\n",(0,s.jsxs)(n.admonition,{type:"danger",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Remove"})," below dependency spring-web if any. You may refer to ",(0,s.jsx)(n.a,{href:"https://stackoverflow.com/questions/71121188/correct-classpath-of-your-application-so-it-contains-compatible-versions-of-clas",children:"this"}),"."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="pom.xml"',children:"<dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-web</artifactId>\n    <version>5.2.12.RELEASE</version>\n</dependency>\n"})})]}),"\n",(0,s.jsx)(n.h3,{id:"2-add-configuration",children:"2. Add configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yml",metastring:'title="application.yml"',children:"{/* highlight-start */}\nserver:\n  port: 18080\n  servlet:\n    context-path: /\n{/* highlight-end */}\n\nlogging:\n  level:\n    root:  error\n    org.springframework:  info\n    org.irushu.demo:  info    \n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-define-request-model",children:"3. Define Request Model"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",metastring:'title="org.irushu.demo.web.model.DemoRequest" showLineNumbers',children:"public class DemoRequest {\n    \n    private String input;\n    ...\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4-define-response-model",children:"4. Define Response Model"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",metastring:'title="org.irushu.demo.web.model.DemoResponse" showLineNumbers',children:"public class DemoResponse {\n\n    private String output;\n    ...\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"5-define-rest-controller",children:"5. Define Rest Controller"}),"\n",(0,s.jsxs)(n.p,{children:["Define a rest controller class ",(0,s.jsx)(n.strong,{children:"DemoController"}),"  with a method ",(0,s.jsx)(n.strong,{children:"echo"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",metastring:'title="org.irushu.demo.web.controller.DemoController" showLineNumbers',children:'{/* highlight-start */}\n@RestController\n@RequestMapping("/demo/")\n{/* highlight-end */}\npublic class DemoController {\n    \n    {/* highlight-start */}\n    @RequestMapping(value = "/echo", method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public DemoResponse echo(@RequestBody DemoRequest demoRequest)\n    {/* highlight-end */}\n    {\n        DemoResponse demoResponse = new DemoResponse();\n        demoResponse.setOutput(demoRequest.getInput());\n        return demoResponse;\n    }\n}\n'})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Annotate the class ",(0,s.jsx)(n.strong,{children:"DemoController"})," with ",(0,s.jsx)(n.strong,{children:"@RestController"})," and ",(0,s.jsx)(n.strong,{children:"@RequestMapping"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Services defined under this ",(0,s.jsx)(n.strong,{children:"DemoController"})," class will all be under the context path /demo/."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Annotate the method ",(0,s.jsx)(n.strong,{children:"echo"})," with ",(0,s.jsx)(n.strong,{children:"@RequestMapping"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"It defines POST as the HTTP method."}),"\n",(0,s.jsxs)(n.li,{children:["It defines input model to be ",(0,s.jsx)(n.strong,{children:"DemoRequest"}),", and in JSON format."]}),"\n",(0,s.jsxs)(n.li,{children:["It defines the output model to be ",(0,s.jsx)(n.strong,{children:"DemoResponse"})," and in JSON format."]}),"\n",(0,s.jsx)(n.li,{children:"The context path will be /echo."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Together with the setting in step 2, the service url will be ",(0,s.jsx)(n.a,{href:"http://localhost:18080/demo/echo",children:"http://localhost:18080/demo/echo"})]}),"\n"]})}),"\n",(0,s.jsx)(n.h3,{id:"6-start-server",children:"6. Start server"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Run the below command"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"mvn clean spring-boot:run\n"})}),"\n",(0,s.jsx)(n.p,{children:"in the maven section of IDEA."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"spring boot run",src:t(3522).Z+"",width:"612",height:"248"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The Spring boot will start the default built-in Tomcat server. You will see the log below."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"spring boot run",src:t(5200).Z+"",width:"1425",height:"329"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"7-test-with-postman",children:"7. Test with Postman"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Service Url"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://localhost:18080/demo/echo\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Input Parameter JSON"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "input": "A"\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"In Postman, type in the url. For Params, choose Body / raw / JSON."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"define-input-parameters",children:"Define input parameters"}),"\n",(0,s.jsx)(n.p,{children:"Input parameters can take many forms."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["It can be Path variable.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@GetMapping("/api/employees/{id}/{name}")\n@ResponseBody\npublic String getEmployeesByIdAndName(@PathVariable("id") String id, @PathVariable("name") String name) {\n    return "ID: " + id;\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["It can be Request parameter.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@GetMapping("/api/foos")\n@ResponseBody\npublic String getFoos(@RequestParam("id") String id) {\n    return "ID: " + id;\n}\n\n//http://xxx/api/foos?id=abc\n'})}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"It can be Request body using json as shown in this example."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},5200:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/idea-maven-spring-boot-run-2-15a2804b9d1b328fd40f268dfd5ecd20.PNG"},3522:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/idea-maven-spring-boot-run-1401037abfcdbf1e2898c229504215c8.PNG"},1151:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>o});var s=t(7294);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);